<!DOCTYPE HTML>
<html lang="en" class="ayu sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Getting Started - Plotly.rs Book</title>


        <!-- Custom HTML head -->

        <meta name="description" content="Plotly.rs documentation">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="ferris.css">

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "ayu";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <script src="https://cdn.plot.ly/plotly-3.0.1.min.js"></script>                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Plotly.rs Book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <div align="center">
    <a href="https://github.com/plotly/plotly.rs/tree/main">
        <img src="https://img.shields.io/badge/Plotly.rs-main-brightgreen" alt="build status">
    </a>
    <a href="https://github.com/plotly/plotly.rs/actions?query=branch%3Amain" style="text-decoration: none!important;">
        <img src="https://img.shields.io/github/actions/workflow/status/plotly/plotly.rs/build.yml?branch=main" alt="Build status">
    </a>
    <a href="https://crates.io/crates/plotly">
        <img src="https://img.shields.io/crates/v/plotly.svg" alt="Crates.io">
    </a>
	<a href="https://docs.rs/plotly">
        <img src="https://docs.rs/plotly/badge.svg" alt="Documentation">
    </a>
    <a href="">
        <img src="https://img.shields.io/badge/Minimum%20Rust%20Version-1.31-brightgreen.svg" alt="Minimum Version">
    </a>
</div>
<h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<p>To start using <a href="https://github.com/plotly/plotly.rs">plotly.rs</a> in your project add the following to your <code>Cargo.toml</code>:</p>
<pre><code class="language-toml">[dependencies]
plotly = "0.13"
</code></pre>
<p><a href="https://github.com/plotly/plotly.rs">Plotly.rs</a> is ultimately a thin wrapper around the <code>plotly.js</code> library. The main job of this library is to provide <code>structs</code> and <code>enums</code> which get serialized to <code>json</code> and passed to the <code>plotly.js</code> library to actually do the heavy lifting. As such, if you are familiar with <code>plotly.js</code> or its derivatives (e.g. the equivalent Python library), then you should find <a href="https://github.com/plotly/plotly.rs"><code>plotly.rs</code></a> intuitive to use.</p>
<p>A <code>Plot</code> struct contains one or more <code>Trace</code> objects which describe the structure of data to be displayed. Optional <code>Layout</code> and <code>Configuration</code> structs can be used to specify the layout and config of the plot, respectively.</p>
<p>The builder pattern is used extensively throughout the library, which means you only need to specify the attributes and details you desire. Any attributes that are not set will fall back to the default value used by <code>plotly.js</code>.</p>
<p>All available traces (e.g. <code>Scatter</code>, <code>Bar</code>, <code>Histogram</code>, etc), the <code>Layout</code>, <code>Configuration</code> and  <code>Plot</code> have been hoisted in the <code>plotly</code> namespace so that they can be imported simply using the following:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use plotly::{Plot, Layout, Scatter};
<span class="boring">}</span></code></pre></pre>
<p>The aforementioned components can be combined to produce as simple plot as follows:</p>
<pre><pre class="playground"><code class="language-rust">use plotly::common::Mode;
use plotly::{Plot, Scatter};

fn line_and_scatter_plot() {
    let trace1 = Scatter::new(vec![1, 2, 3, 4], vec![10, 15, 13, 17])
        .name("trace1")
        .mode(Mode::Markers);
    let trace2 = Scatter::new(vec![2, 3, 4, 5], vec![16, 5, 11, 9])
        .name("trace2")
        .mode(Mode::Lines);
    let trace3 = Scatter::new(vec![1, 2, 3, 4], vec![12, 9, 15, 12]).name("trace3");

    let mut plot = Plot::new();
    plot.add_trace(trace1);
    plot.add_trace(trace2);
    plot.add_trace(trace3);
    plot.show();
}

fn main() -&gt; std::io::Result&lt;()&gt; {
    line_and_scatter_plot();
    Ok(())
}</code></pre></pre>
<p>which results in the following figure (displayed here as a static png file):</p>
<p><img src="img/line_and_scatter_plot.png" alt="line_and_scatter_plot" /></p>
<p>The above code will generate an interactive <code>html</code> page of the <code>Plot</code> and display it in the default browser. The <code>html</code> for the plot is stored in the platform specific temporary directory. To save the <code>html</code> result, you can do so quite simply:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>plot.write_html("/home/user/line_and_scatter_plot.html");
<span class="boring">}</span></code></pre></pre>
<p>It is often the case that plots are produced to be included in a document and a different format for the plot is desirable (e.g. png, jpeg, etc). Given that the <code>html</code> version of the plot is composed of vector graphics, the display when converted to a non-vector format (e.g. png) is not guaranteed to be identical to the one displayed in <code>html</code>. This means that some fine tuning may be required to get to the desired output. To support that iterative workflow, <code>Plot</code> has a <code>show_image()</code> method which will display the rasterised output to the target format, for example:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>plot.show_image(ImageFormat::PNG, 1280, 900);
<span class="boring">}</span></code></pre></pre>
<p>will display in the browser the rasterised plot; 1280 pixels wide and 900 pixels tall, in png format.</p>
<p>Once a satisfactory result is achieved, and assuming the <a href="#saving-plots"><code>kaleido</code></a> feature is enabled, the plot can be saved using the following:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>plot.write_image("/home/user/plot_name.ext", ImageFormat::PNG, 1280, 900, 1.0);
<span class="boring">}</span></code></pre></pre>
<p>The extension in the file-name path is optional as the appropriate extension (<code>ImageFormat::PNG</code>) will be included. Note that in all functions that save files to disk, both relative and absolute paths are supported.</p>
<h2 id="saving-plots-with-kaleido-legacy"><a class="header" href="#saving-plots-with-kaleido-legacy">Saving Plots with Kaleido (legacy)</a></h2>
<p>To add the ability to save plots in the following formats: png, jpeg, webp, svg, pdf and eps, you can use the <code>kaleido</code> feature. This feature depends on <a href="https://github.com/plotly/Kaleido">plotly/Kaleido</a>: a cross-platform open source library for generating static images. All the necessary binaries have been included with <code>plotly_kaleido</code> for <code>Linux</code>, <code>Windows</code> and <code>MacOS</code>. Previous versions of <a href="https://github.com/plotly/plotly.rs">plotly.rs</a> used the <code>orca</code> feature, however, this has been deprecated as it provided the same functionality but required additional installation steps. To enable the <code>kaleido</code> feature add the following to your <code>Cargo.toml</code>:</p>
<pre><code class="language-toml">[dependencies]
plotly = { version = "0.13", features = ["kaleido"] }
</code></pre>
<h2 id="static-image-export-with-webdriver-recommended"><a class="header" href="#static-image-export-with-webdriver-recommended">Static Image Export with WebDriver (recommended)</a></h2>
<p>For static image export using WebDriver and headless browsers, you can use the <code>plotly_static</code> feature. This feature supports the same formats as Kaleido (png, jpeg, webp, svg, pdf) but uses WebDriver for the static export process. To enable static export, add the following to your <code>Cargo.toml</code>:</p>
<pre><code class="language-toml">[dependencies]
plotly = { version = "0.13", features = ["static_export_default"] }
</code></pre>
<p>The <code>static_export_default</code> feature includes Chrome WebDriver support with automatic download. For Firefox support, use <code>static_export_geckodriver</code> instead. See the <a href="../fundamentals/static_image_export.html">Static Image Export</a> chapter for a detailed usage example.</p>
<h2 id="webassembly-support"><a class="header" href="#webassembly-support">WebAssembly Support</a></h2>
<p>As of v0.8.0, <a href="https://github.com/plotly/plotly.rs">plotly.rs</a> can now be used in a <code>Wasm</code> environment by enabling the <code>wasm</code> feature in your <code>Cargo.toml</code>:</p>
<pre><code class="language-toml">[dependencies]
plotly = { version = "&gt;=0.8.0" features = ["wasm"] }
</code></pre>
<p>The <code>wasm</code> feature exposes rudimentary bindings to the <code>plotly.js</code> library, which can then be used in a <code>wasm</code> environment such as the <a href="https://yew.rs/"><code>Yew</code></a> frontend framework.</p>
<p>To make a very simple <code>Plot</code> component might look something like:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use yew::prelude::*;

#[derive(Properties, PartialEq)]
pub struct PlotProps {
    pub id: String,
    pub plot: plotly::Plot,
    pub class: Option&lt;Classes&gt;,
}

#[function_component(Plot)]
pub fn plot(props: &amp;PlotProps) -&gt; Html {
    let PlotProps { id, plot, class } = props;

    let p = yew_hooks::use_async::&lt;_, _, ()&gt;({
        let id = id.clone();
        let plot = plot.clone();
        async move {
            plotly::bindings::new_plot(&amp;id, &amp;plot).await;
            Ok(())
        }
    });

    {
        let id = id.clone();
        let plot = plot.clone();
        use_effect_with_deps(
            move |(_, _)| {
                p.run();
                || ()
            },
            (id, plot),
        );
    }

    html! {
        &lt;div id={id.clone()} class={class.clone()}&gt;&lt;/div&gt;
    }
}
<span class="boring">}</span></code></pre></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="plotly_rs.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="fundamentals.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="plotly_rs.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="fundamentals.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="ferris.js"></script>
        <script src="plotly.min.js"></script>


    </div>
    </body>
</html>
